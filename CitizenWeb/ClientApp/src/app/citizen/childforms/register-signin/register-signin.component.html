<div *ngIf="!isRegButton" class="mt-24 mb-24 w-100-p text-center">
    <h1>Register or Sign In to receive updates</h1>
    <button class="mr-8" mat-raised-button (click)="regSubmit()" type="button" color="accent">
        Register & Submit
    </button>
    <button mat-raised-button (click)="signSubmit()" type="button" color="accent">
        Sign In & Submit
    </button>
</div>

<div id="login-form" class="mt-16" *ngIf="isSignIn">

    <form name="loginForm" [formGroup]="loginForm" novalidate>


        <div fxLayout="row wrap" fxLayoutAlign="space-between">
            <div fxFlex="50" fxLayout="column" class="pr-10 pt-20">
                <mat-form-field class="w-100-p" appearance="outline">
                    <mat-label>Email</mat-label>
                    <input matInput formControlName="email" [(ngModel)]="email" (blur)="emailChange($event.currentTarget.value)" autocomplete="off">
                    <mat-error *ngIf="loginForm.get('email').hasError('required')">
                        Email is required
                    </mat-error>
                    <mat-error *ngIf="!loginForm.get('email').hasError('required') &&
                                        loginForm.get('email').hasError('email')">
                        Please enter a valid email address
                    </mat-error>
                </mat-form-field>
            </div>
            <div fxLayoutAlign="end end" fxFlex="50" fxLayout="column" class="pl-10">
                <a class="forgot-password" (click)="forgotClick()">
                    Forgot Your Password?
                </a>
                <mat-form-field class="w-100-p" appearance="outline">
                    <mat-label>Password</mat-label>
                    <input matInput type="password" [(ngModel)]="pwd" formControlName="Password" (blur)="pwdChange($event.currentTarget.value)" autocomplete="off" >
                    <mat-error>
                        Password is required
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div fxLayout="row" fxLayout.xs="row" fxLayoutAlign="end center">
            <button mat-raised-button color="accent" class="submit-button mr-8" aria-label="LOGIN"
                    (click)="signIn()" [disabled]="!loginForm.valid">
                Sign In
            </button>
            <button mat-raised-button type="button" color="accent" (click)="back()">
                Back
            </button>
        </div>
        
    </form>
</div>

<div id="register-form" class="mt-16" *ngIf="isReg">


    <form name="registerForm" [formGroup]="registerForm" novalidate>
        <div fxLayout="row wrap" fxLayoutAlign="space-between">
            <mat-form-field class="pl-4 pr-4" appearance="outline" fxFlex="100" fxFlex.gt-sm="50">
                <mat-label>First Name</mat-label>
                <input matInput formControlName="firstName" autocomplete="off">
                <mat-error *ngIf="registerForm.get('firstName').hasError('required')">
                    First Name is required
                </mat-error>
            </mat-form-field>

            <mat-form-field class="pl-4 pr-4" appearance="outline" fxFlex="100" fxFlex.gt-sm="50">
                <mat-label>Last Name</mat-label>
                <input matInput formControlName="lastName" autocomplete="off">
                <mat-error *ngIf="registerForm.get('lastName').hasError('required')">
                    Last Name is required
                </mat-error>
            </mat-form-field>
        </div>
        <div fxLayout="row wrap" fxLayoutAlign="space-between">
            <mat-form-field class="pl-4 pr-4" appearance="outline" fxFlex="100" fxFlex.gt-sm="50">
                <mat-label>User Name</mat-label>
                <input matInput formControlName="userName" autocomplete="off">
                <mat-error *ngIf="registerForm.get('userName').hasError('required')">
                    User Name is required
                </mat-error>
            </mat-form-field>

            <mat-form-field class="pl-4 pr-4" appearance="outline" fxFlex="100" fxFlex.gt-sm="50">
                <mat-label>Email</mat-label>
                <input matInput formControlName="emailAddress" autocomplete="off">
                <mat-error *ngIf="registerForm.get('emailAddress').hasError('required')">
                    Email is required
                </mat-error>
                <mat-error *ngIf="!registerForm.get('emailAddress').hasError('required') &&
                                        registerForm.get('emailAddress').hasError('email')">
                    Please enter a valid email address
                </mat-error>
            </mat-form-field>
        </div>

        <div fxLayout="row wrap" fxLayoutAlign="space-between">
            <mat-form-field class="pl-4 pr-4" appearance="outline" fxFlex="100" fxFlex.gt-sm="50">
                <mat-label>Password</mat-label>
                <input matInput type="password" formControlName="Password" autocomplete="off" required maxlength="225" (input)="passwordChange(userForm.get('Password'),userForm.get('ConfirmPassword'))">
                <mat-error *ngIf="registerForm.get('Password').hasError('required')">
                    Password is required
                </mat-error>
            </mat-form-field>
            <mat-form-field class="pl-4 pr-4" appearance="outline" fxFlex="100" fxFlex.gt-sm="50">
                <mat-label>Confirm Password</mat-label>
                <input type="password" matInput placeholder="Confirm password" formControlName="ConfirmPassword" required maxlength="225" autocomplete="off">
                <mat-error *ngIf="registerForm.get('ConfirmPassword').errors?.MatchPassword">Password does not match</mat-error>
            </mat-form-field>
            <mat-form-field class="pl-4 pr-4" appearance="outline" fxFlex="100" fxFlex.gt-sm="50">
                <mat-label>Phone Number</mat-label>
                <input matInput formControlName="phoneNumber" autocomplete="off">
                <mat-error *ngIf="registerForm.get('phoneNumber').hasError('required')">
                    Phone Number is required
                </mat-error>
                <mat-error *ngIf="!registerForm.get('phoneNumber').hasError('required') &&
                                        registerForm.get('phoneNumber').hasError('pattern')">
                    Please, Enter 10 digit mobile number
                </mat-error>
            </mat-form-field>
        </div>
        <div fxLayout="row wrap" fxLayoutAlign="space-between">
            <div fxFlex="100" fxLayout="column" class="">
                <mat-form-field class="w-100-p" appearance="outline">
                    <mat-label>Nearest intersection to your home or work</mat-label>
                    <input matInput type="text" autocomplete="off">
                    <!--formControlName="nearestHome"-->
                </mat-form-field>
            </div>
        </div>
        <div class="cstmmap" fxLayout="row wrap" fxLayoutAlign="center center">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3504.9543538533944!2d-81.38068808505365!3d28.541091694964773!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88e77afe775c318f%3A0xfe725ffe0a44fc34!2s121%20S%20Orange%20Ave%2C%20Orlando%2C%20FL%2032801%2C%20USA!5e0!3m2!1sen!2sin!4v1589274503328!5m2!1sen!2sin" frameborder="0" style="border:0; margin-top: -150px; width: 100%; height: 550px;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
        </div>
        <div fxLayout="row" class="pt-10" fxLayoutAlign="space-between">
            <div>
                <mat-checkbox name="terms" aria-label="Accept" required>
                    <span>I agree to the  </span>
                </mat-checkbox>
                <a href="#"> terms of use</a>
            </div>
            <div>
                <button class="mr-8" mat-raised-button type="button" color="accent" (click)="back()">
                    Back
                </button>
                <button mat-raised-button color="accent" class="submit-button" aria-label="CREATE AN ACCOUNT" (click)="registerAcc(stepper)" [disabled]="!registerForm.valid">
                    Register
                </button>

            </div>
        </div>

    </form>
</div>

<div id="forgot-password-form" class="mt-16" *ngIf="isForgot">
    <div class="title">RECOVER YOUR PASSWORD</div>

    <form name="forgoPasswordForm" [formGroup]="forgotPasswordForm" novalidate>



        <div fxLayout="row wrap" fxLayoutAlign="space-between">
            <div fxFlex="100" fxLayout="column" class="pr-10">
                <mat-form-field appearance="outline">
                    <mat-label>Email</mat-label>
                    <input matInput formControlName="email">
                    <mat-icon matSuffix class="secondary-text">mail</mat-icon>
                    <mat-error *ngIf="forgotPasswordForm.get('email').hasError('required')">
                        Email is required
                    </mat-error>
                    <mat-error *ngIf="forgotPasswordForm.get('email').hasError('email')">
                        Please enter a valid email address
                    </mat-error>
                </mat-form-field>
            </div>
        </div>

        <div fxLayout="row" class="pt-10" fxLayoutAlign="space-between">
            <div>
                After completing this form, check your mail for a password reset link
            </div>
            <div>
                <button class="mr-8" mat-raised-button type="button" color="accent" (click)="backLoginClick()">
                    Back
                </button>
                <button mat-raised-button class="submit-button" color="accent"
                        aria-label="SEND RESET LINK" [disabled]="forgotPasswordForm.invalid">
                    SEND RESET LINK
                </button>
            </div>
        </div>

    </form>
</div>